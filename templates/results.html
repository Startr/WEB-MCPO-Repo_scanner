<!-- templates/results.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://startr.style/style.css">
    <title>TODO Results - {{ repo_name }}</title>
    
</head>
<body style="font-family: Arial, sans-serif;max-width: 900px;margin: 0 auto;padding: 20px;line-height: 1.6;">
    <h1 style="color: #333;border-bottom: 1px solid #ddd;padding-bottom: 10px;">TODO Scanner Results</h1>
    
    <div class="summary" style="background-color: #f0f8ff;padding: 15px;border-radius: 5px;margin-bottom: 20px;">
        <h2 style="color: #333;">Repository: {{ repo_name }}</h2>
        <p>URL: {{ repo_url }}</p>
        <p>Found {{ count }} TODO items</p>
    </div>
    
    {% if count == 0 %}
    <div class="no-results" style="background-color: #f9f9f9;padding: 20px;border-radius: 5px;text-align: center;color: #666;">
        <p>No TODO comments found in this repository.</p>
    </div>
    {% else %}
        {% for todo in todos %}
        <div class="todo-item" style="background-color: #f9f9f9;padding: 15px;margin-bottom: 15px;border-radius: 5px;border-left: 4px solid #4CAF50;">
            <div class="file-path" style="font-weight: bold;color: #333;margin-bottom: 5px;">{{ todo.file_path }}</div>
            <div class="line-num" style="color: #666;font-size: 0.9em;">Line {{ todo.line_num }}</div>
            <div class="todo-text" style="background-color: #fff;padding: 10px;border-radius: 3px;border: 1px solid #ddd;margin: 10px 0;font-family: monospace;white-space: pre-wrap;">{{ todo.todo_text|highlight_todo|safe }}</div>
            {% if todo.next_line %}
            <div class="next-line" style="background-color: #f5f5f5;padding: 10px;border-radius: 3px;border: 1px solid #ddd;font-family: monospace;white-space: pre-wrap;">{{ todo.next_line }}</div>
            {% endif %}
        </div>
        {% endfor %}
    {% endif %}
    
    <div class="back-link" style="margin-top: 20px;">
        <a href="{{ url_for('index') }}" style="color: #0066cc;text-decoration: none;">‚Üê Scan another repository</a>
    </div>
</body>
</html>